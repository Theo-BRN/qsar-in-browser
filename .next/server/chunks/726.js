"use strict";exports.id=726,exports.ids=[726],exports.modules={9726:(t,e,r)=>{r.a(t,async(t,s)=>{try{r.r(e),r.d(e,{default:()=>FPGen});var a=r(997),o=r(6689),n=r(1315),l=r(5230),i=r(5935),c=r(5836),x=r(4038),d=r.n(x),h=t([c]);c=(h.then?(await h)():h)[0];var m={};m.epsilon=10,m.perplexity=30,m.dim=2;var p=new(d()).tSNE(m);function FPGen(){let{ligand:t}=(0,o.useContext)(n.Z),[e,r]=(0,o.useState)(!1),[s,x]=(0,o.useState)(!1),[d,h]=(0,o.useState)(null),[m,f]=(0,o.useState)(0),g=t.length;return((0,o.useEffect)(()=>{let processCompounds=async()=>{try{let a=await (0,i.F)();h(a);let o=[];for(let e=0;e<g;e++)try{let r=a.get_mol(t[e].canonical_smiles),s=r.get_morgan_fp_as_uint8array(JSON.stringify({radius:2,nBits:2048}));o.push(s);let n=e+1;f(n),r?.delete()}catch(t){console.error(t)}try{let t=new l.PCA(o),e=t.predict(o,{nComponents:2}),s=e.data.map(([t,e])=>({x:t,y:e}));r(s)}catch(t){console.error("Error:",t)}try{p.initDataDist(o);for(var e=0;e<500;e++)p.step();var s=p.getSolution();console.log(s)}catch(t){console.error("Error:",t)}x(!0)}catch{console.log("Do Something About RDKit")}};processCompounds()},[t,g]),s)?(0,a.jsxs)("div",{className:"container",children:[a.jsx("br",{}),e&&a.jsx(c.ZP,{data:e,width:600,height:600})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Number of Data Points Processed: ",m]}),a.jsx("progress",{className:"progress-bar",value:m,max:g})]})}s()}catch(t){s(t)}})},5836:(t,e,r)=>{r.a(t,async(t,s)=>{try{r.d(e,{ZP:()=>Scatterplot});var a=r(997),o=r(6689),n=r(8968),l=t([n]);n=(l.then?(await l)():l)[0];let AxisBottom=({xScale:t,pixelsPerTick:e,height:r})=>{let s=t.range(),n=(0,o.useMemo)(()=>{let r=s[1]-s[0];return t.ticks(Math.floor(r/e)).map(e=>({value:e,xOffset:t(e)}))},[t,r]);return a.jsx(a.Fragment,{children:n.map(({value:t,xOffset:e})=>(0,a.jsxs)("g",{transform:`translate(${e}, 0)`,shapeRendering:"crispEdges",children:[a.jsx("line",{y1:10,y2:-r-10,stroke:"var(--text-color)",strokeWidth:.5}),a.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"var(--text-color)"},children:t},t)]},t))})},AxisLeft=({yScale:t,pixelsPerTick:e,width:r})=>{let s=t.range(),n=(0,o.useMemo)(()=>{let r=s[0]-s[1];return t.ticks(Math.floor(r/e)).map(e=>({value:e,yOffset:t(e)}))},[t]);return a.jsx(a.Fragment,{children:n.map(({value:t,yOffset:e})=>(0,a.jsxs)("g",{transform:`translate(0, ${e})`,shapeRendering:"crispEdges",children:[a.jsx("line",{x1:-10,x2:r+10,stroke:"var(--text-color)",strokeWidth:.5}),a.jsx("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"var(--text-color)"},children:t},t)]},t))})},i={top:60,right:60,bottom:60,left:60};function Scatterplot({width:t,height:e,data:r}){let s=t-i.right-i.left,l=e-i.top-i.bottom,c=[n.min(r,t=>t.y)-4,n.max(r,t=>t.y)+4],x=[n.min(r,t=>t.x)-4,n.max(r,t=>t.x)+4],d=n.scaleLinear().domain(c).range([0,s]),h=n.scaleLinear().domain(x).range([l,0]),m=r.map((t,e)=>a.jsx("circle",{r:4,cx:d(t.y),cy:h(t.x),opacity:1,stroke:"var(--accent-color)",fill:"var(--accent-color)",fillOpacity:.2,strokeWidth:1},e));return(0,o.useEffect)(()=>{}),a.jsx("div",{children:a.jsx("svg",{width:t,height:e,children:(0,a.jsxs)("g",{width:s,height:l,transform:`translate(${[i.left,i.top].join(",")})`,children:[a.jsx(AxisLeft,{yScale:h,pixelsPerTick:20,width:s}),a.jsx("g",{transform:`translate(0, ${l})`,children:a.jsx(AxisBottom,{xScale:d,pixelsPerTick:20,height:l})}),m]})})})}s()}catch(t){s(t)}})},5935:(t,e,r)=>{r.d(e,{F:()=>o}),r(6517);var s=r(5168),a=r.n(s);let o=(()=>{let t;return()=>(t||(t=new Promise((t,e)=>{a()().then(e=>{t(e)}).catch(t=>{console.log(t)})})),t)})()}};