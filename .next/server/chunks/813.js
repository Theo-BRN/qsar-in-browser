"use strict";exports.id=813,exports.ids=[813],exports.modules={6813:(e,t,a)=>{a.r(t),a.d(t,{default:()=>TargetGetter});var s=a(997),n=a(6689),r=a(670),i=a(1315),l=a(1664),o=a.n(l);function CompoundGetter(){let[e,t]=(0,n.useState)("Ki"),[a,l]=(0,n.useState)("B"),{target:c,_:u}=(0,n.useContext)(r.Z),{ligand:h,setLigand:d}=(0,n.useContext)(i.Z),[p,x]=(0,n.useState)(!1),[m,g]=(0,n.useState)(0);async function getFullActivityData(e){x(!0);let t="https://www.ebi.ac.uk",a=[{}],s=t+e;for(;s!==t+"null";){let e=await fetch(s),n=await e.json();a.push(...n.activities),s=t+n.page_meta.next;let r=a.length/n.page_meta.total_count*100;g(r)}return a.slice(1)}return(0,s.jsxs)("div",{children:[s.jsx("label",{children:s.jsx("input",{className:"input",placeholder:"Input Unit. Default is Ki",value:e,onChange:e=>t(e.target.value)})}),s.jsx("br",{}),s.jsx("label",{children:s.jsx("input",{className:"input",placeholder:"Input Assay Type. Default is Binding (B)",value:a,onChange:e=>l(e.target.value)})}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("button",{className:"button",onClick:function(){getFullActivityData(`/chembl/api/data/activity?format=json&target_chembl_id=${c}&type=${e}&target_organism=Homo%20sapiens&assay_type=${a}&relation==`).then(e=>{d(e)})},children:"Download Data"}),s.jsx("br",{}),p&&(0,s.jsxs)("div",{children:[s.jsx("progress",{className:"progress-bar",value:m,max:100}),s.jsx("br",{}),(0,s.jsxs)("span",{style:{textAlign:"center"},children:[Math.min(m,100).toFixed(2)," %"]})]}),s.jsx("br",{}),h.length>0&&(0,s.jsxs)("div",{children:[s.jsx(o(),{className:"button",href:"/tools/data-distribution",children:"Show The Ligand Distribution Graph"}),s.jsx(o(),{className:"button",href:"/tools/dimension-reduction/pca",children:"PCA"})]})]})}function TargetGetter(){let[e,t]=(0,n.useState)([]),{target:a,setTarget:i}=(0,n.useContext)(r.Z);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{fetch(`https://www.ebi.ac.uk/chembl/api/data/target/search?format=json&q=${a}`).then(e=>e.json()).then(e=>{t(e.targets)}).catch(e=>{console.error("Error:",e)})},100);return()=>clearTimeout(e)},[a]),(0,s.jsxs)("div",{className:"container",style:{width:"600px",height:"400px"},children:[(0,s.jsxs)("label",{children:["Choose a Target From this List ",s.jsx("br",{}),s.jsx("input",{className:"input",placeholder:"Start Typing and Things Will Come Up. Hopefully not PTSD",list:"browsers",name:"myBrowser",onChange:e=>i(e.target.value)})]}),s.jsx("datalist",{id:"browsers",children:e&&e.map(e=>(0,s.jsxs)("option",{value:e.target_chembl_id,children:[e.pref_name," || ",e.target_chembl_id," || ",e.organism]},e.target_chembl_id))}),s.jsx(CompoundGetter,{})]})}}};