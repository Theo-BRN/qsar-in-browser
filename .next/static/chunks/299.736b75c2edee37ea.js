"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{1772:function(t,e,r){r.d(e,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var n=r(5893);function __WEBPACK_DEFAULT_EXPORT__(){return(0,n.jsxs)("div",{style:{textAlign:"center"},children:["Processsing",(0,n.jsx)("div",{class:"loader"})]})}},8299:function(t,e,r){r.r(e),r.d(e,{default:function(){return PCAPlot}});var n=r(5893),s=r(7294),o=r(1315),l=r(2138),i=r(2358);let AxisBottom=t=>{let{xScale:e,pixelsPerTick:r,height:o}=t,l=e.range(),i=(0,s.useMemo)(()=>{let t=l[1]-l[0];return e.ticks(Math.floor(t/r)).map(t=>({value:t,xOffset:e(t)}))},[e,o]);return(0,n.jsx)(n.Fragment,{children:i.map(t=>{let{value:e,xOffset:r}=t;return(0,n.jsxs)("g",{transform:"translate(".concat(r,", 0)"),shapeRendering:"crispEdges",children:[(0,n.jsx)("line",{y1:10,y2:-o-10,stroke:"var(--text-color)",strokeWidth:.5}),(0,n.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"var(--text-color)"},children:e},e)]},e)})})},AxisLeft=t=>{let{yScale:e,pixelsPerTick:r,width:o}=t,l=e.range(),i=(0,s.useMemo)(()=>{let t=l[0]-l[1];return e.ticks(Math.floor(t/r)).map(t=>({value:t,yOffset:e(t)}))},[e]);return(0,n.jsx)(n.Fragment,{children:i.map(t=>{let{value:e,yOffset:r}=t;return(0,n.jsxs)("g",{transform:"translate(0, ".concat(r,")"),shapeRendering:"crispEdges",children:[(0,n.jsx)("line",{x1:-10,x2:o+10,stroke:"var(--text-color)",strokeWidth:.5}),(0,n.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"var(--text-color)"},children:e},e)]},e)})})},a={top:60,right:60,bottom:60,left:60};function Scatterplot(t){let{width:e,height:r,data:o}=t,l=e-a.right-a.left,c=r-a.top-a.bottom,x=[i.VV$(o,t=>t.y)-4,i.Fp7(o,t=>t.y)+4],d=[i.VV$(o,t=>t.x)-4,i.Fp7(o,t=>t.x)+4],h=i.BYU().domain(x).range([0,l]),f=i.BYU().domain(d).range([c,0]),p=o.map((t,e)=>(0,n.jsx)("circle",{r:4,cx:h(t.y),cy:f(t.x),opacity:1,stroke:"var(--accent-color)",fill:"var(--accent-color)",fillOpacity:.2,strokeWidth:1},e));return(0,s.useEffect)(()=>{}),(0,n.jsx)("div",{children:(0,n.jsx)("svg",{width:e,height:r,children:(0,n.jsxs)("g",{width:l,height:c,transform:"translate(".concat([a.left,a.top].join(","),")"),children:[(0,n.jsx)(AxisLeft,{yScale:f,pixelsPerTick:20,width:l}),(0,n.jsx)("g",{transform:"translate(0, ".concat(c,")"),children:(0,n.jsx)(AxisBottom,{xScale:h,pixelsPerTick:20,height:c})}),p]})})})}var c=r(1772);function PCAPlot(){let{ligand:t}=(0,s.useContext)(o.Z),[e,r]=(0,s.useState)(null);return((0,s.useEffect)(()=>{setTimeout(()=>{processCompounds()},"1000");let processCompounds=()=>{var e=t.map(t=>t.fingerprint);try{let t=new l._(e),n=t.predict(e,{nComponents:2}),s=n.data.map(t=>{let[e,r]=t;return{x:e,y:r}});r(s)}catch(t){console.error("Error:",t)}}},[]),null===e)?(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(c.Z,{})}):(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("br",{}),e&&(0,n.jsx)(Scatterplot,{data:e,width:600,height:600})]})}}}]);