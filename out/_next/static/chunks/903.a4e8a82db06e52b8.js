(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903,216],{51772:function(t,e,s){"use strict";s.d(e,{Z:function(){return Loader}});var i=s(85893),r=s(9008),n=s.n(r);function Loader(t){let{loadingText:e="Processsing..."}=t;return(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)(n(),{children:(0,i.jsx)("title",{children:e})}),e,(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"loader"})})]})}},11903:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return MMA}});var i=s(85893),r=s(67294),n=s(91315),o=s(15935),components_Card=t=>{let{children:e}=t;return(0,i.jsx)("div",{className:"card-containers",children:e})},a=s(15216),l=s(51772),components_ModalComponent=t=>{let{isOpen:e,children:s,closeModal:r}=t;return e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"modal-overlay",children:[(0,i.jsxs)("div",{className:"modal",children:[s,(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]}),(0,i.jsx)("button",{className:"button close-button",onClick:r,children:"Close Overlay"})]}),(0,i.jsx)("style",{children:"\n          .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 1000;\n          }\n\n          .modal {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            height: 80%;\n            width: 80%;\n            margin: 10%;\n            background: white;\n            padding: 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n            overflow: scroll;\n          }\n\n          .close-button {\n            position: absolute;\n            top: 10px;\n            right: 10px;\n            background-color: #FFB6C1;\n            color: #fff;\n            padding: 10px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n          }\n        "})]}):null};function MMA(){let{ligand:t}=(0,r.useContext)(n.Z),[e,s]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[h,u]=(0,r.useState)([]),[p,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[x,b]=(0,r.useState)([]),openModal=()=>{f(!0)};return((0,r.useEffect)(()=>{(async function(){let t=await (0,o.F)();s(t),c(!0)})()},[t]),(0,r.useEffect)(()=>{if(d){let s=function(t){let s=[];t.map((i,r)=>{let n=e.get_mol(i.canonical_smiles),o=[],a=[];try{let t=n.get_mmpa_frags(1,1,20);for(;!t.sidechains.at_end();){var l=t.sidechains.next(),{molList:d,_:c}=l.get_frags();try{let e=[];for(;!d.at_end();){var h=d.next();e.push(h.get_smiles()),h.delete()}d.delete(),a.push(e.at(0)),o.push(e.at(1)),s.push([i.canonical_smiles,e.at(0),e.at(1),i.molecule_chembl_id,i.pKi]),l.delete(),t.cores.delete(),t.sidechains.delete()}catch(t){console.log("For Some Reason There are Null Values")}}}catch(t){console.log("Problem")}t[r].Cores=a,t[r].R_Groups=o,n.delete()});let i={};for(let t=0;t<s.length;t++)if(s[t].length>1){let e=s[t][1];i[e]=(i[e]||0)+1}return[Object.entries(i).filter(t=>{let[e,s]=t;return s>=2}),s]}(t);u(s),m(!0)}},[d]),p)?(0,i.jsxs)("div",{className:"main-container",children:[(0,i.jsx)("div",{className:"container-for-cards",children:h[0].map((t,e)=>(0,i.jsxs)(components_Card,{children:[(0,i.jsx)(a.default,{structure:t[0],id:t[0],svgMode:!0}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{children:["Count : ",t[1]]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{onClick:()=>{!function(t){let e=h[1].filter(e=>e[1]===t);b(e),openModal()}(t[0])},className:"button",children:"Matched Molecules"})]},e))}),(0,i.jsx)(components_ModalComponent,{isOpen:g,closeModal:()=>{f(!1)},children:x.map((t,e)=>(0,i.jsxs)(components_Card,{children:[(0,i.jsx)(a.default,{structure:t[0],subStructure:t[1],id:t[0],svgMode:!0}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{children:["pKi : ",t[4]]})]},e))})]}):(0,i.jsx)("div",{className:"main-container",children:(0,i.jsx)(l.Z,{})})}},15216:function(t,e,s){"use strict";let i;s.r(e),s.d(e,{initRDKit:function(){return initRDKit}});var r=s(85893),n=s(67294),o=s(96486),a=s.n(o),l=s(45697),d=s.n(l);let initRDKit=()=>(i||(i=new Promise((t,e)=>{let s=document.createElement("script");s.src="/sar-in-browser/RDKit_minimal.js",s.async=!0,document.body.appendChild(s),s.addEventListener("load",()=>{initRDKitModule().then(e=>{t(e)}).catch(t=>{console.log(t)})})})),i);let MoleculeStructure=class MoleculeStructure extends n.Component{draw(){this.props.drawingDelay?setTimeout(()=>{this.drawSVGorCanvas()},this.props.drawingDelay):this.drawSVGorCanvas()}drawSVGorCanvas(){let t=this.RDKit.get_mol(this.props.structure||"invalid"),e=this.RDKit.get_qmol(this.props.subStructure||"invalid"),s=this.isValidMol(t);if(this.props.svgMode&&s){let s=t.get_svg_with_highlights(this.getMolDetails(t,e));this.setState({svg:s})}else if(s){let s=document.getElementById(this.props.id);t.draw_to_canvas_with_highlights(s,this.getMolDetails(t,e))}null==t||t.delete(),null==e||e.delete()}isValidMol(t){return!!t}getMolDetails(t,e){if(!(this.isValidMol(t)&&this.isValidMol(e)))return JSON.stringify({...this.MOL_DETAILS,...this.props.extraDetails||{}});{let s=JSON.parse(t.get_substruct_matches(e)),i=a().isEmpty(s)?s:s.reduce((t,e)=>{let{atoms:s,bonds:i}=e;return{atoms:[...t.atoms,...s],bonds:[...t.bonds,...i]}},{bonds:[],atoms:[]});return JSON.stringify({...this.MOL_DETAILS,...this.props.extraDetails||{},...i})}}componentDidMount(){initRDKit().then(t=>{this.RDKit=t,this.setState({rdKitLoaded:!0});try{this.draw()}catch(t){console.log(t)}}).catch(t=>{console.log(t),this.setState({rdKitError:!0})})}componentDidUpdate(t){if(this.state.rdKitError||!this.state.rdKitLoaded||this.props.svgMode||this.drawOnce(),this.state.rdKitLoaded){let e=t.structure!==this.props.structure||t.svgMode!==this.props.svgMode||t.subStructure!==this.props.subStructure||t.width!==this.props.width||t.height!==this.props.height||!a().isEqual(t.extraDetails,this.props.extraDetails);e&&this.draw()}}render(){if(this.state.rdKitError)return"Error loading renderer.";if(!this.state.rdKitLoaded)return"Loading renderer...";let t=this.RDKit.get_mol(this.props.structure||"invalid"),e=this.isValidMol(t);return(null==t||t.delete(),e)?this.props.svgMode?(0,r.jsx)("div",{title:this.props.structure,className:"molecule-structure-svg "+(this.props.className||""),style:{width:this.props.width,height:this.props.height},dangerouslySetInnerHTML:{__html:this.state.svg}}):(0,r.jsx)("div",{className:"molecule-canvas-container "+(this.props.className||""),children:(0,r.jsx)("canvas",{title:this.props.structure,id:this.props.id,width:this.props.width,height:this.props.height})}):(0,r.jsx)("span",{title:"Cannot render structure: ".concat(this.props.structure),children:"Render Error."})}constructor(t){super(t),this.drawOnce=(()=>{let t=!1;return()=>{t||(t=!0,this.draw())}})(),this.MOL_DETAILS={width:this.props.width,height:this.props.height,bondLineWidth:1,addStereoAnnotation:!0,...this.props.extraDetails},this.state={svg:void 0,rdKitLoaded:!1,rdKitError:!1}}};MoleculeStructure.propTypes={id:d().string.isRequired,className:d().string,svgMode:d().bool,width:d().number,height:d().number,structure:d().string.isRequired,subStructure:d().string,extraDetails:d().object,drawingDelay:d().number},MoleculeStructure.defaultProps={subStructure:"",className:"",width:250,height:200,svgMode:!1,extraDetails:{},drawingDelay:void 0},e.default=MoleculeStructure},15935:function(t,e,s){"use strict";let i;s.d(e,{F:function(){return initRDKit}}),s(96486);let initRDKit=()=>(i||(i=new Promise((t,e)=>{let s=document.createElement("script");s.src="/sar-in-browser/RDKit_minimal.js",s.async=!0,document.body.appendChild(s),s.addEventListener("load",()=>{initRDKitModule().then(e=>{t(e)}).catch(t=>{console.log(t)})})})),i)},92703:function(t,e,s){"use strict";var i=s(50414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,e,s,r,n,o){if(o!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},45697:function(t,e,s){t.exports=s(92703)()},50414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);