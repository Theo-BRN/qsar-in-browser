"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{3929:function(t,e,a){a.r(e),a.d(e,{default:function(){return Histogram}});var l=a(5893),n=a(7294),c=a(2358);let StatisticsCalculator=class StatisticsCalculator{static calculateMedian(t){let e=[...t].sort((t,e)=>t-e);return t.length%2==0?(e[t.length/2-1]+e[t.length/2])/2:e[Math.floor(t.length/2)]}static calculateMode(t){let e=t.reduce((t,e)=>(t[e]=(t[e]||0)+1,t),{}),a=Object.keys(e).reduce((t,a)=>e[t]>e[a]?t:a);return a}static calculateMean(t){return t.reduce((t,e)=>t+e,0)/t.length}static calculateStandardDeviation(t){let e=StatisticsCalculator.calculateMean(t),a=Math.sqrt(t.reduce((t,a)=>t+Math.pow(a-e,2),0)/t.length);return a}};var r=a(1315);let s={top:30,right:30,bottom:40,left:50};function Histogram(){let{ligand:t,_:e}=(0,n.useContext)(r.Z);console.log(t);var a=t.map(t=>t.pKi);let i=(0,n.useRef)(null),o=1200-s.right-s.left,u=600-s.top-s.bottom,h=(0,n.useMemo)(()=>{let t=Math.max(...a),e=Math.min(...a);return c.BYU().domain([e,t]).range([0,o])},[a,o]),d=(0,n.useMemo)(()=>c.Ly_().value(t=>t).domain(h.domain()).thresholds(h.ticks(70)),[h]),g=(0,n.useMemo)(()=>d(a),[d,a]),m=(0,n.useMemo)(()=>{let t=c.Fp7(g,t=>t.length);return c.BYU().range([u,0]).domain([0,t||0]).nice()},[g,u]);return(0,n.useEffect)(()=>{let t=c.Ys(i.current);t.selectAll("*").remove();let e=c.LLu(h);t.append("g").attr("transform","translate(".concat(s.left,",").concat(600-s.bottom,")")).call(e);let a=c.y4O(m);t.append("g").attr("transform","translate(".concat(s.left,",").concat(s.top,")")).call(a),t.append("g").attr("transform","translate(".concat(s.left,",").concat(s.top,")")).selectAll("rect").data(g).join("rect").attr("x",t=>h(t.x0)+.5).attr("width",t=>Math.max(0,h(t.x1)-h(t.x0)-1)).attr("y",t=>m(t.length)).attr("height",t=>u-m(t.length)).attr("fill","#69b3a2")},[h,m,g]),(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("svg",{width:1200,height:600,ref:i,children:(0,l.jsx)("g",{ref:i})}),(0,l.jsxs)("h3",{children:["Small Molecules: ",a.length]}),(0,l.jsx)("h3",{children:"Activity Stats"}),(0,l.jsxs)("span",{children:["Mean: ",StatisticsCalculator.calculateMean(a)]}),(0,l.jsxs)("span",{children:["Median: ",StatisticsCalculator.calculateMedian(a)]}),(0,l.jsxs)("span",{children:["Standard Deviation: ",StatisticsCalculator.calculateStandardDeviation(a)]})]})}}}]);