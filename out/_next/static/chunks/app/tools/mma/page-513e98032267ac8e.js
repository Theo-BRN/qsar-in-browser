(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874,458],{7011:function(t,e,s){Promise.resolve().then(s.bind(s,8351))},8351:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return Matched}});var r=s(7437),i=s(2265),n=s(4938),o=s(5300),toolViz_Card=t=>{let{children:e}=t;return(0,r.jsx)("div",{className:"card-containers",children:e})},a=s(8458),l=s(6462),c=s(4696);function MMA(){let{ligand:t}=(0,i.useContext)(n.Z),[e,s]=(0,i.useState)(null),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),[f,v]=(0,i.useState)(!1),[x,_]=(0,i.useState)([]),openModal=()=>{v(!0)};return((0,i.useEffect)(()=>{(async function(){let t=await (0,o.F)();s(t),u(!0)})()},[t]),(0,i.useEffect)(()=>{if(d){let s=function(t){let s=[];t.map((r,i)=>{let n=e.get_mol(r.canonical_smiles),o=[],a=[];try{let t=n.get_mmpa_frags(1,1,20);for(;!t.sidechains.at_end();){var l=t.sidechains.next(),{molList:c,_:d}=l.get_frags();try{let e=[];for(;!c.at_end();){var u=c.next();e.push(u.get_smiles()),u.delete()}c.delete(),a.push(e.at(0)),o.push(e.at(1)),s.push([r.canonical_smiles,e.at(0),e.at(1),r.molecule_chembl_id,r.pKi]),l.delete(),t.cores.delete(),t.sidechains.delete()}catch(t){console.log("For Some Reason There are Null Values")}}}catch(t){console.log("Problem")}t[i].Cores=a,t[i].R_Groups=o,n.delete()});let r={};for(let t=0;t<s.length;t++)if(s[t].length>1){let e=s[t][1];r[e]=(r[e]||0)+1}return[Object.entries(r).filter(t=>{let[e,s]=t;return"number"==typeof s&&s>=2}),s]}(t);p(s),g(!0)}},[d]),m)?(0,r.jsxs)("div",{className:"main-container",children:[(0,r.jsx)("div",{className:"container-for-cards",children:h[0].map((t,e)=>(0,r.jsxs)(toolViz_Card,{children:[(0,r.jsx)(a.default,{structure:t[0],id:t[0],svgMode:!0}),(0,r.jsx)("br",{}),(0,r.jsxs)("span",{children:["Count : ",t[1]]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>{!function(t){let e=h[1].filter(e=>e[1]===t);_(e),openModal()}(t[0])},className:"button",children:"Matched Molecules"})]},e))}),(0,r.jsx)(c.Z,{isOpen:f,closeModal:()=>{v(!1)},children:x.map((t,e)=>(0,r.jsxs)(toolViz_Card,{children:[(0,r.jsx)(a.default,{structure:t[0],subStructure:t[1],id:t[0],svgMode:!0}),(0,r.jsx)("br",{}),(0,r.jsxs)("span",{children:["pKi : ",t[4]]})]},e))})]}):(0,r.jsx)("div",{className:"main-container",children:(0,r.jsx)(l.Z,{})})}function Matched(){return(0,r.jsx)("div",{className:"tools-container",children:(0,r.jsx)(MMA,{})})}},8458:function(t,e,s){"use strict";s.r(e);var r=s(7437),i=s(2265),n=s(2890),o=s.n(n),a=s(4275),l=s.n(a),c=s(5300);let MoleculeStructure=class MoleculeStructure extends i.Component{draw(){this.props.drawingDelay?setTimeout(()=>{this.drawSVGorCanvas()},this.props.drawingDelay):this.drawSVGorCanvas()}drawSVGorCanvas(){let t=this.RDKit.get_mol(this.props.structure||"invalid"),e=this.RDKit.get_qmol(this.props.subStructure||"invalid"),s=this.isValidMol(t);if(this.props.svgMode&&s){let s=t.get_svg_with_highlights(this.getMolDetails(t,e));this.setState({svg:s})}else if(s){let s=document.getElementById(this.props.id);t.draw_to_canvas_with_highlights(s,this.getMolDetails(t,e))}null==t||t.delete(),null==e||e.delete()}isValidMol(t){return!!t}getMolDetails(t,e){if(!(this.isValidMol(t)&&this.isValidMol(e)))return JSON.stringify({...this.MOL_DETAILS,...this.props.extraDetails||{}});{let s=JSON.parse(t.get_substruct_matches(e)),r=o().isEmpty(s)?s:s.reduce((t,e)=>{let{atoms:s,bonds:r}=e;return{atoms:[...t.atoms,...s],bonds:[...t.bonds,...r]}},{bonds:[],atoms:[]});return JSON.stringify({...this.MOL_DETAILS,...this.props.extraDetails||{},...r})}}componentDidMount(){(0,c.F)().then(t=>{this.RDKit=t,this.setState({rdKitLoaded:!0});try{this.draw()}catch(t){console.log(t)}}).catch(t=>{console.log(t),this.setState({rdKitError:!0})})}componentDidUpdate(t){if(this.state.rdKitError||!this.state.rdKitLoaded||this.props.svgMode||this.drawOnce(),this.state.rdKitLoaded){let e=t.structure!==this.props.structure||t.svgMode!==this.props.svgMode||t.subStructure!==this.props.subStructure||t.width!==this.props.width||t.height!==this.props.height||!o().isEqual(t.extraDetails,this.props.extraDetails);e&&this.draw()}}render(){if(this.state.rdKitError)return"Error loading renderer.";if(!this.state.rdKitLoaded)return"Loading renderer...";let t=this.RDKit.get_mol(this.props.structure||"invalid"),e=this.isValidMol(t);return(null==t||t.delete(),e)?this.props.svgMode?(0,r.jsx)("div",{title:this.props.structure,className:"molecule-structure-svg "+(this.props.className||""),style:{width:this.props.width,height:this.props.height},dangerouslySetInnerHTML:{__html:this.state.svg||""}}):(0,r.jsx)("div",{className:"molecule-canvas-container "+(this.props.className||""),children:(0,r.jsx)("canvas",{title:this.props.structure,id:this.props.id,width:this.props.width,height:this.props.height})}):(0,r.jsx)("span",{title:"Cannot render structure: ".concat(this.props.structure),children:"Render Error."})}constructor(t){super(t),this.MOL_DETAILS={width:this.props.width,height:this.props.height,bondLineWidth:1,addStereoAnnotation:!0,...this.props.extraDetails},this.drawOnce=(()=>{let t=!1;return()=>{t||(t=!0,this.draw())}})(),this.state={svg:void 0,rdKitLoaded:!1,rdKitError:!1}}};MoleculeStructure.propTypes={id:l().string.isRequired,className:l().string,svgMode:l().bool,width:l().number,height:l().number,structure:l().string.isRequired,subStructure:l().string,extraDetails:l().object,drawingDelay:l().number},MoleculeStructure.defaultProps={subStructure:"",className:"",width:250,height:200,svgMode:!1,extraDetails:{},drawingDelay:void 0},e.default=MoleculeStructure},6462:function(t,e,s){"use strict";s.d(e,{Z:function(){return Loader}});var r=s(7437);function Loader(t){let{loadingText:e="Processsing..."}=t;return(0,r.jsxs)("div",{style:{textAlign:"center"},children:[e,(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"loader"})})]})}},4696:function(t,e,s){"use strict";var r=s(7437);e.Z=t=>{let{isOpen:e,children:s,closeModal:i}=t;return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"modal-overlay",children:[(0,r.jsxs)("div",{className:"modal",children:[s,(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)("button",{className:"button close-button",onClick:i,children:"Close Overlay"})]}),(0,r.jsx)("style",{children:"\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n        }\n\n        .modal {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          height: 80vh;\n          width: 80vw;\n          margin: 10%;\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n          overflow: scroll;\n        }\n\n        .close-button {\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          background-color: #FFB6C1;\n          color: #fff;\n          padding: 10px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n      "})]}):null}},5300:function(t,e,s){"use strict";let r;s.d(e,{F:function(){return initRDKit}});let initRDKit=()=>(r||(r=new Promise((t,e)=>{let s=document.createElement("script");s.src="/RDKit_minimal.js",s.async=!0,document.body.appendChild(s),s.addEventListener("load",()=>{globalThis.initRDKitModule().then(e=>{t(e)}).catch(t=>{alert("RDKIT Cannot be Loaded")})})})),r)},4938:function(t,e,s){"use strict";s.d(e,{G:function(){return LigandProvider}});var r=s(7437),i=s(2265);let n=(0,i.createContext)({ligand:[],setLigand:()=>{}});function LigandProvider(t){let{children:e}=t,[s,o]=(0,i.useState)([]);return(0,r.jsx)(n.Provider,{value:{ligand:s,setLigand:o},children:e})}e.Z=n},622:function(t,e,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(2265),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(t,e,s){var r,n={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(d=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===n[r]&&(n[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:d,props:n,_owner:a.current}}e.Fragment=n,e.jsx=q,e.jsxs=q},7437:function(t,e,s){"use strict";t.exports=s(622)},3018:function(t,e,s){"use strict";var r=s(1289);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,e,s,i,n,o){if(o!==r){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},4275:function(t,e,s){t.exports=s(3018)()},1289:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(t){t.O(0,[866,971,864,744],function(){return t(t.s=7011)}),_N_E=t.O()}]);