(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{7774:function(e,t,r){Promise.resolve().then(r.bind(r,9245))},9245:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return PreProcess}});var n=r(7437),i=r(2265),s=r(4938),o=r(4469),c=r(6462),a=r(4033),l=r(52);function DataPreProcessToolKit(){let e=(0,a.useRouter)(),{ligand:t,setLigand:r}=(0,i.useContext)(s.Z),[u,d]=(0,i.useState)(!0),[f,h]=(0,i.useState)(!0),[p,x]=(0,i.useState)(!0),[j,g]=(0,i.useState)(2),[_,m]=(0,i.useState)(2048),{rdkit:v}=(0,i.useContext)(l.Z),[b,k]=(0,i.useState)(!1),[P,y]=(0,i.useState)(!1);return b?(0,n.jsx)("div",{children:P?(0,n.jsx)(c.Z,{}):(0,n.jsx)(n.Fragment,{})}):(0,n.jsxs)("div",{className:"tools-container",children:[(0,n.jsx)("h2",{children:"Data Processing"}),(0,n.jsx)("hr",{}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{checked:u,type:"checkbox",id:"data-dedup-check",onChange:()=>d(!u)}),(0,n.jsx)("label",{htmlFor:"data-dedup-check",children:"Data De-Duplication"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{checked:f,type:"checkbox",id:"fingerprint-check",onChange:()=>h(!f)}),(0,n.jsx)("label",{htmlFor:"fingerprint-check",children:"Fingerprinting"}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{checked:p,type:"checkbox",id:"pki-check",onChange:()=>x(!p)}),(0,n.jsx)("label",{htmlFor:"pki-check",children:"Convert to pKi"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("details",{open:!1,children:[(0,n.jsx)("summary",{children:"Fingerprint Settings"}),(0,n.jsx)("label",{htmlFor:"fp-radius",children:"Radius: "}),(0,n.jsx)("input",{className:"input",id:"fp-radius",type:"number",value:j,onChange:e=>g(parseInt(e.target.value))}),(0,n.jsx)("br",{}),(0,n.jsx)("label",{htmlFor:"fp-size",children:"Bit Size: "}),(0,n.jsx)("input",{className:"input",id:"fp-size",type:"number",value:_,onChange:e=>m(parseInt(e.target.value))})]}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{className:"button",onClick:()=>{k(!0),y(!0),setTimeout(function(){!function(){if(u){let n=t.map(e=>{let{molecule_chembl_id:t,canonical_smiles:r,standard_value:n}=e,i=-Math.log10(1e-8*n).toFixed(2);return{molecule_chembl_id:t,canonical_smiles:r,standard_value:n,pKi:i}}).filter((e,t,r)=>t===r.findIndex(t=>t.molecule_chembl_id===e.molecule_chembl_id&&t.canonical_smiles===e.canonical_smiles&&e.standard_value));f?(n.forEach(async(e,t)=>{try{let r=v.get_mol(e.canonical_smiles),i=r.get_morgan_fp(JSON.stringify({radius:j,nBits:_}));i=(0,o.Z)(i),n[t].fingerprint=i,null==r||r.delete()}catch(e){console.error(e)}t===n.length-1&&r(n)}),y(!1),e.push("/tools/activity")):r(n)}}()},500)},children:"Pre-Process Data"}),(0,n.jsx)("br",{}),(0,n.jsxs)("p",{children:["Unfiltered Ligands: ",t.length]})]})}function PreProcess(){return(0,n.jsx)(DataPreProcessToolKit,{})}},6462:function(e,t,r){"use strict";r.d(t,{Z:function(){return Loader}});var n=r(7437);function Loader(e){let{loadingText:t="Processsing..."}=e;return(0,n.jsxs)("div",{style:{textAlign:"center"},children:[t,(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"loader"})})]})}},4469:function(e,t,r){"use strict";function bitStringToBitVector(e){let t=[];for(let r=0;r<e.length;r++)t.push(parseFloat(e[r]));return t}r.d(t,{Z:function(){return bitStringToBitVector}})},4938:function(e,t,r){"use strict";r.d(t,{G:function(){return LigandProvider}});var n=r(7437),i=r(2265);let s=(0,i.createContext)({ligand:[],setLigand:()=>{}});function LigandProvider(e){let{children:t}=e,[r,o]=(0,i.useState)([]);return(0,n.jsx)(s.Provider,{value:{ligand:r,setLigand:o},children:t})}t.Z=s},52:function(e,t,r){"use strict";r.d(t,{o:function(){return RDKitProvider}});var n=r(7437),i=r(2265);let s=(0,i.createContext)({rdkit:{},setRDKit:()=>{}});function RDKitProvider(e){let{children:t}=e,[r,o]=(0,i.useState)({});return(0,n.jsx)(s.Provider,{value:{rdkit:r,setRDKit:o},children:t})}t.Z=s},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!a.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:c.current}}t.Fragment=s,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(290)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=7774)}),_N_E=e.O()}]);